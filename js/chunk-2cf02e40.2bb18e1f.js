(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cf02e40"],{"43b7":function(e,t,c){"use strict";c.r(t);var i=c("7a23");Object(i["u"])("data-v-46dc558e");const s=Object(i["e"])("h1",{class:"my-4"},"Pedido actual",-1),o={key:0},n=Object(i["e"])("h2",{class:"my-5"},"No hay productos en el pedido",-1),a=[n],d={key:1},l={key:0,class:"caja d-flex flex-column justify-content-between"},r={class:"col-md-12"},b={class:"d-flex justify-content-end"},u={class:"w-100"},j=["onClick"],O={id:"pedido",class:"d-flex"},m={class:"btn-toolbar d-flex justify-content-evenly align-items-start w-50 h-0",role:"toolbar"},f={class:"btn-group",role:"group","aria-label":"First group"},p=["onClick"],h={class:"mx-3"},v={class:"btn-group",role:"group","aria-label":"Second group"},g=["onClick"],y={class:"w-50"},w={class:"botonera"},k=Object(i["e"])("label",{for:"clientes"},"Cliente:",-1),x={class:"d-flex"},C={key:1,class:"d-flex my-5 justify-content-center"},P={class:"d-flex flex-column my-5"},S=Object(i["e"])("h1",null,"Â¡Pedido confirmado!",-1);function T(e,t,c,n,T,A){return Object(i["r"])(),Object(i["d"])(i["a"],null,[s,0==n.pedido?(Object(i["r"])(),Object(i["d"])("div",o,a)):(Object(i["r"])(),Object(i["d"])("div",d,[n.stat.submitted?(Object(i["r"])(),Object(i["d"])("div",C,[Object(i["e"])("div",P,[S,Object(i["e"])("button",{onClick:t[3]||(t[3]=(...e)=>A.nuevoPedido&&A.nuevoPedido(...e)),class:"btn btn-success my-5"},"Nuevo pedido")])])):(Object(i["r"])(),Object(i["d"])("div",l,[Object(i["e"])("div",r,[(Object(i["r"])(!0),Object(i["d"])(i["a"],null,Object(i["x"])(n.pedido,(e,t)=>(Object(i["r"])(),Object(i["d"])("div",{class:"list-group-item list-group-item-action list-group-item-light d-flex justify-content-between flex-column flex-wrap",key:t},[Object(i["e"])("div",b,[Object(i["e"])("h5",u,Object(i["A"])(e.nombre),1),Object(i["e"])("button",{onClick:e=>A.quitar(t),class:"x"},"X",8,j)]),Object(i["e"])("div",O,[Object(i["e"])("div",m,[Object(i["e"])("div",f,[Object(i["e"])("button",{onClick:e=>A.restar(t),type:"button",class:"btn btn-danger"},"-",8,p)]),Object(i["e"])("div",h,[Object(i["e"])("h5",null,Object(i["A"])(e.cantidad),1)]),Object(i["e"])("div",v,[Object(i["e"])("button",{onClick:e=>A.agregar(t),type:"button",class:"btn btn-success"},"+",8,g)])]),Object(i["e"])("h5",y,"$ "+Object(i["A"])(e.precioT),1)])]))),128))]),Object(i["e"])("div",w,[Object(i["e"])("form",null,[k,Object(i["G"])(Object(i["e"])("select",{name:"clientes",id:"clientes","onUpdate:modelValue":t[0]||(t[0]=e=>n.client.value=e)},[(Object(i["r"])(!0),Object(i["d"])(i["a"],null,Object(i["x"])(n.clientes,(e,t)=>(Object(i["r"])(),Object(i["d"])("option",{key:t},Object(i["A"])(e.nombre),1))),128))],512),[[i["C"],n.client.value]])]),Object(i["e"])("div",x,[Object(i["e"])("button",{onClick:t[1]||(t[1]=(...e)=>A.guardarPedido&&A.guardarPedido(...e)),class:"btn btn-warning my-4 w-100"},"Guardar pedido"),Object(i["e"])("button",{onClick:t[2]||(t[2]=(...e)=>n.onSubmit&&n.onSubmit(...e)),class:"btn btn-success my-4 w-100"},"Confirmar pedido")])])]))]))],64)}Object(i["s"])();var A=c("5502"),q=c("dc59"),F=c("4f60"),V={setup(){const e=Object(A["b"])(),t=e.getters.getPedido,c=e.getters.getCliente;var s=Object(i["v"])({});c&&(s.value=c);let o="",n="";const a=Object(q["j"])(),d=Object(i["v"])({id:""}),l=Object(i["v"])({submitted:!1}),r=Object(i["v"])({cliente:"",fecha:""});r.fecha=new Date,r.fecha=new Date(r.fecha.getTime()-6e4*r.fecha.getTimezoneOffset()).toISOString().split("T")[0];const b=async()=>{n=s.value,n=n.split(/\s(.+)/)[0],r.cliente=n,await Object(q["c"])({...t,...r}),o=s.value,o=o.split(/\s(.+)/)[1];for(let e in t){let c=F["a"].firestore.FieldValue.increment(-t[e].cantidad);await Object(q["i"])(t[e].id,{cantidad:c})}for(let e in t){let c=F["a"].firestore.FieldValue.increment(t[e].precioT);await Object(q["h"])(o,{saldo:c})}c&&e.commit("limpiarCliente"),l.submitted=!0};return{store:e,pedido:t,onSubmit:b,stat:l,form:r,clientes:a,ide:d,client:s}},computed:{getPedido(){return this.store.getters.getPedido},precioTotal(){return this.pedido}},methods:{nuevoPedido(){this.stat.submitted=!1,this.store.commit("limpiarPedido"),this.$router.push("/")},guardarPedido(){this.clientnombre=this.client.value,this.clientnombre=this.clientnombre.split(/\s(.+)/)[0],this.form.cliente=this.clientnombre,this.store.commit("guardarPedido",{...this.pedido,...this.form}),this.store.commit("limpiarPedido"),this.stat.submitted=!0},agregar(e){this.store.commit("agregar",e)},restar(e){this.store.commit("restar",e)},quitar(e){this.store.commit("quitar",e)}}};c("aedb");V.render=T,V.__scopeId="data-v-46dc558e";t["default"]=V},"50f8":function(e,t,c){},aedb:function(e,t,c){"use strict";c("50f8")}}]);
//# sourceMappingURL=chunk-2cf02e40.2bb18e1f.js.map